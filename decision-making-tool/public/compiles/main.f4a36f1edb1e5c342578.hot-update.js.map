{"version":3,"file":"main.f4a36f1edb1e5c342578.hot-update.js","mappings":";;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AACA;;;;;;;;;AC/FA","sources":["webpack://decision-making-tool/./src/builders/wheel.ts","webpack://decision-making-tool/webpack/runtime/getFullHash"],"sourcesContent":["import { getFromLocalStorage } from '..';\nimport { container, containerForOptions } from './mainBlock';\n\nexport function createChoosePage() {\n  containerForOptions.textContent = '';\n  container.textContent = '';\n\n  const canvas = document.createElement('canvas');\n  canvas.setAttribute('id', 'wheel');\n  canvas.setAttribute('width', '400');\n  canvas.setAttribute('height', '400');\n\n  containerForOptions.append(canvas);\n\n  const selectedOption = document.createElement('div');\n  selectedOption.setAttribute('id', 'selectedOption');\n  containerForOptions.append(selectedOption);\n\n  const startButton = document.createElement('button');\n  startButton.setAttribute('id', 'startButton');\n  startButton.textContent = 'Start';\n  selectedOption.append(startButton);\n\n  const ctx = canvas.getContext('2d');\n\n  const options = getFromLocalStorage('dataFromInputs');\n\n  const sections = Object.keys(options).filter(key => key.startsWith('option-'));\n  const sizes = sections.map(section => parseInt(options[section.replace('option-#', '#')]));\n  let angle = 0; // Initial angle\n  let spinning = false; // Track if it's currently spinning\n  let spinAngle = 0; // Angle to spin by\n\n  function drawWheel() {\n    if (ctx) {\n      ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear the canvas\n      const total = sizes.reduce((a, b) => a + b, 0);\n      let startAngle = angle; // Start drawing from the current angle\n\n      sections.forEach((section, index) => {\n        const size = (sizes[index] / total) * 2 * Math.PI; // Calculate the angle\n        ctx.beginPath();\n        ctx.moveTo(150, 150); // Move to the center\n        ctx.arc(150, 150, 100, startAngle, startAngle + size); // Draw the arc\n        ctx.fillStyle = getRandomColor(); // Random color for each section\n        ctx.fill();\n        ctx.stroke();\n        startAngle += size; // Update start angle for next section\n      });\n    }\n  }\n\n  function spinWheel() {\n    if (spinning) return; // Prevent multiple spins\n    spinning = true; // Set spinning status\n\n    const totalTime = 3000; // Spin duration in milliseconds\n    const spinTime = totalTime / 100; // Time per frame\n    let frames = 0;\n\n    const spinInterval = setInterval(() => {\n      if (frames >= 100) {\n        clearInterval(spinInterval);\n        spinning = false; // Reset spinning status\n        const randomSection = Math.floor(Math.random() * sections.length);\n        const selectedAngle =\n          (sizes.slice(0, randomSection).reduce((a, b) => a + b, 0) /\n            sizes.reduce((a, b) => a + b, 0)) *\n          2 *\n          Math.PI;\n        selectedOption.innerText = `Selected: ${options[sections[randomSection]]}`; // Display selected option\n        return;\n      }\n\n      angle += 0.1; // Increment the angle for the spin\n      drawWheel(); // Redraw the wheel with updated angle\n      frames++; // Increment frame counter\n    }, spinTime);\n  }\n\n  // Function to get a random color\n  function getRandomColor() {\n    const letters = '0123456789ABCDEF';\n    let color = '#';\n    for (let i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n  }\n\n  // Draw the wheel on load\n  drawWheel();\n\n  // Start spin on button click\n  startButton.addEventListener('click', spinWheel);\n}\n","__webpack_require__.h = () => (\"f08724fbcf88b02d306f\")"],"names":[],"sourceRoot":""}